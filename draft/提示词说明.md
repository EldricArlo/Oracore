“请帮我修复 cli.c 中的参数解析问题，将其重构为使用 getopt_long。请注意，cli.c 依赖于 hsc_kernel.h 和 sodium.h，在您提供完整的代码时，请务必保留这两个头文件的包含。”

“请为 src/cli.c 文件生成一个 diff 补丁。这个补丁需要将 handle_hybrid_encrypt 和 handle_hybrid_decrypt 函数中的手动参数解析逻辑，替换为使用 getopt_long 的标准实现。”

“你好，委员会。接下来我们将进行几轮代码修复。请在本次会话中遵守以下规则：
1. 当您提供任何C文件的完整代码时，请务必仔细检查并保留所有原始的 #include 语句。
2. 所有对 Makefile 的修改，都应同时考虑 Linux 和 Windows (MinGW) 环境的兼容性。
现在，让我们开始第一个任务...”

在请求修改时，主动提醒我关键的上下文和依赖关系。